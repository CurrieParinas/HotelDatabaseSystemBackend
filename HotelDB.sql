CREATE TABLE EMPLOYEE (
    EMPLOYEE_ID         NUMBER(11, 0),
    FIRST_NAME          VARCHAR(30),
    MIDDLE_NAME         VARCHAR(20),
    LAST_NAME           VARCHAR(20),
    BIRTHDAY            DATE DEFAULT SYSDATE,
    ADDRESS             VARCHAR(70),
    CONTACT_NUMBER      NUMBER(11),
    EMAIL_ADDRESS       VARCHAR(40),
    AGE                 NUMBER(3, 0),
    SALARY              NUMBER(8, 2),
    SUPERVISOR          NUMBER(11, 0),
    EMPLOYEE_TYPE       VARCHAR(2),
CONSTRAINT EMPLOYEE_PK PRIMARY KEY (EMPLOYEE_ID),
CONSTRAINT EMPLOYEE_FK1 FOREIGN KEY (SUPERVISOR) REFERENCES EMPLOYEE(EMPLOYEE_ID));

CREATE TABLE BRN (
    BRN_ID              NUMBER(11, 0),
    EMPLOYEE_ID         NUMBER(11, 0),
    BOOKING_DATE        DATE DEFAULT SYSDATE,
    CHECK_IN_DATE       DATE DEFAULT SYSDATE,
    CHECK_OUT_DATE      DATE DEFAULT SYSDATE,
    STATUS              VARCHAR(10),
    TOTAL_COST          NUMBER(9, 2),
CONSTRAINT BRN_PK PRIMARY KEY (BRN_ID),
CONSTRAINT BRN_FK1 FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID));

CREATE TABLE ACCOUNTS (
    EMPLOYEE_ID         NUMBER(11, 0),
    EMAIL               VARCHAR(50),
    PASSWORD            VARCHAR(30),
CONSTRAINT ACCOUNT_PK PRIMARY KEY (EMPLOYEE_ID),
CONSTRAINT ACCOUNT_FK1 FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID));

CREATE TABLE GUEST (
    GUEST_ID            NUMBER(11, 0),
    BRN_ID              NUMBER(11, 0),
    FIRST_NAME          VARCHAR(30),
    MIDDLE_NAME         VARCHAR(20),
    LAST_NAME           VARCHAR(20),
    BIRTHDAY            DATE DEFAULT SYSDATE,
    ADDRESS             VARCHAR(70),
    CONTACT_NUMBER      NUMBER(11),
    EMAIL_ADDRESS       VARCHAR(40),
    AGE                 NUMBER(3, 0),
    GUEST_TYPE          VARCHAR(1),
CONSTRAINT GUEST_PK PRIMARY KEY (GUEST_ID),
CONSTRAINT GUEST_FK1 FOREIGN KEY (BRN_ID) REFERENCES BRN(BRN_ID));

CREATE TABLE ROOM_TYPE (
    ROOM_TYPE           NUMBER(1, 0),
    ROOM_NAME           VARCHAR(9),
    DESCRIPTION         VARCHAR(255),
    PRICE               NUMBER(7, 2),
    MAX_GUESTS          NUMBER(2, 0),
    BEDS                NUMBER(2, 0),
    AREA                NUMBER(5, 2),
CONSTRAINT ROOM_TYPE_PK PRIMARY KEY (ROOM_TYPE));

CREATE TABLE ROOM (
    ROOM_NUMBER         NUMBER(11, 0),
    ROOM_TYPE           NUMBER(1, 0),
CONSTRAINT ROOM_PK PRIMARY KEY (ROOM_NUMBER),
CONSTRAINT ROOM_FK1 FOREIGN KEY (ROOM_TYPE) REFERENCES ROOM_TYPE(ROOM_TYPE));

CREATE TABLE CHARGE (
    CHARGE_ID       NUMBER(11, 0),
    BRN_ID          NUMBER(11, 0),
    ROOM_NUMBER     NUMBER(3, 0),
    COST            NUMBER(7, 2),
CONSTRAINT CHARGE_PK PRIMARY KEY (CHARGE_ID),
CONSTRAINT CHARGE_FK1 FOREIGN KEY (BRN_ID) REFERENCES BRN(BRN_ID),
CONSTRAINT CHARGE_FK2 FOREIGN KEY (ROOM_NUMBER) REFERENCES ROOM(ROOM_NUMBER));

CREATE TABLE SERVICE (
    SERVICE_ID          NUMBER(11, 0),
    SERVICE_NAME        VARCHAR(30),
    EMPLOYEE_TYPE       VARCHAR(2),
CONSTRAINT SERVICE_PK PRIMARY KEY (SERVICE_ID));

CREATE TABLE SERVICE_LINE (
    SERVICE_LINE_ID     NUMBER(11, 0),
    CHARGE_ID           NUMBER(11, 0),
    SERVICE_ID          NUMBER(11, 0),
    EMPLOYEE_ID         NUMBER(11, 0),
    SERVICE_DATE        DATE DEFAULT SYSDATE,
CONSTRAINT SERVICE_LINE_PK PRIMARY KEY (SERVICE_LINE_ID),
CONSTRAINT SERVICE_LINE_FK1 FOREIGN KEY (CHARGE_ID) REFERENCES CHARGE(CHARGE_ID),
CONSTRAINT SERVICE_LINE_FK2 FOREIGN KEY (SERVICE_ID) REFERENCES SERVICE(SERVICE_ID),
CONSTRAINT SERVICE_LINE_FK3 FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID));

CREATE TABLE SERVICE_ROOM_TYPE (
    ROOM_TYPE           NUMBER(1, 0),
    SERVICE_ID          NUMBER(11, 0),
    PRICE               NUMBER(7, 2),
CONSTRAINT SRT_PK PRIMARY KEY (SERVICE_ID, ROOM_TYPE),
CONSTRAINT SRT_FK1 FOREIGN KEY (ROOM_TYPE) REFERENCES ROOM_TYPE(ROOM_TYPE),
CONSTRAINT SRT_FK2 FOREIGN KEY (SERVICE_ID) REFERENCES SERVICE(SERVICE_ID));

CREATE TABLE PAYMENT_DETAILS (
    PAYMENT_DETAIL_ID       NUMBER(11, 0),
    BRN_ID                  NUMBER(11, 0),
    MODE_OF_PAYMENT         VARCHAR(20),
    CARD_NUMBER             NUMBER(10, 0),
    CVV                     NUMBER(3, 0),
    EXPIRATION_DATE         DATE DEFAULT SYSDATE,
CONSTRAINT PAYMENT_DETAIL_PK PRIMARY KEY (PAYMENT_DETAIL_ID),
CONSTRAINT PAYMENT_DETAIL_FK1 FOREIGN KEY (BRN_ID) REFERENCES BRN(BRN_ID));

INSERT INTO ROOM_TYPE VALUES (1, 'Deluxe', 'Wowsers', 1000, 5, 3, 100);
INSERT INTO ROOM VALUES (100, 1);

SELECT * FROM ROOM

INSERT INTO EMPLOYEE(EMPLOYEE_ID, FIRST_NAME) VALUES (1, 'Ron');
INSERT INTO ACCOUNTS VALUES (1, 'rsgomez1@up.edu.ph', '123');

commit;